<div class="m-2 container-fluid">
  <form [formGroup]="expenseForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <label for="name">Name of your expense:</label>
      <input type="text" class="form-control d-inline w-auto ml-2" id="name" placeholder="Enter name" name="name" formControlName="name">
    </div>
    <div *ngIf="name.invalid && (name.dirty || name.touched)"
         class="alert alert-danger">
      <div *ngIf="name.errors.required">
        Name is required.
      </div>
      <div *ngIf="name.errors.minlength">
        Name must be at least 4 characters long.
      </div>
    </div>
    <div class="form-group">
      <label for="description">Some deeper description(optional):</label>
      <input type="text" class="form-control d-inline" style="max-width: 30rem" id="description" placeholder="Enter description" name="description" formControlName="description">
    </div>
    <div class="form-group" >
      <label for="amount">Money spent:</label>
      <input type="number" style="max-width: 10rem" class="form-control d-inline ml-2 mr-2" id="amount" placeholder="Enter amount" name="amount" formControlName="amount">
      <p class="d-inline">â‚¬</p>
    </div>
    <div *ngIf="amount.invalid && (amount.dirty || amount.touched)"
         class="alert alert-danger">
      <div *ngIf="amount.errors.required">
        Amount is required.
      </div>
    </div>
    <p>Who is it for:</p>
    <div class="d-flex flex-row align-items-start m-2 mb-4" *ngIf="members">
      <div #item *ngFor="let member of members" (click)="toggle(member, item)" class="card shadow p-3 mr-2 bg-white rounded member-card selected-member">
        <div class="card-body start">
          <svg width="50" height="50" [data-jdenticon-value]="member.id"></svg>
          <p class="unselectable">{{member.displayName}}</p>
        </div>
      </div>
    </div>
    <div class="m-3" *ngIf="!members">
      <div class="spinner-border text-primary" ></div>
      <p>Loading fridge members</p>
    </div>

    <button type="submit" [disabled]="!expenseForm.valid" class="btn btn-primary btn-default">Create Expense</button>
  </form>
</div>
